"use strict";var e=require("./httpRequest-79d7914f.js"),t=function(){var i=[],o=[],a=new Set,u=function(t){return i.forEach((function(r){t.add(r.middleware,e.__assign({},r))})),o.forEach((function(r){t.addRelativeTo(r.middleware,e.__assign({},r))})),t},f=function(t){var r=[];return t.before.forEach((function(t){0===t.before.length&&0===t.after.length?r.push(t):r.push.apply(r,e.__spread(f(t)))})),r.push(t),t.after.reverse().forEach((function(t){0===t.before.length&&0===t.after.length?r.push(t):r.push.apply(r,e.__spread(f(t)))})),r},c=function(){var t,a=[],u=[],c={};return i.forEach((function(t){var r=e.__assign(e.__assign({},t),{before:[],after:[]});r.name&&(c[r.name]=r),a.push(r)})),o.forEach((function(t){var r=e.__assign(e.__assign({},t),{before:[],after:[]});r.name&&(c[r.name]=r),u.push(r)})),u.forEach((function(e){if(e.toMiddleware){var t=c[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(t=a,t.sort((function(e,t){return r[t.step]-r[e.step]||n[t.priority||"normal"]-n[e.priority||"normal"]}))).map(f).reduce((function(t,r){return t.push.apply(t,e.__spread(r)),t}),[]).map((function(e){return e.middleware}))},s={add:function(t,r){void 0===r&&(r={});var n=r.name,o=e.__assign({step:"initialize",priority:"normal",middleware:t},r);if(n){if(a.has(n))throw new Error("Duplicate middleware name '"+n+"'");a.add(n)}i.push(o)},addRelativeTo:function(t,r){var n=r.name,i=e.__assign({middleware:t},r);if(n){if(a.has(n))throw new Error("Duplicated middleware name '"+n+"'");a.add(n)}o.push(i)},clone:function(){return u(t())},use:function(e){e.applyToStack(s)},remove:function(e){return"string"==typeof e?function(e){var t=!1,r=function(r){return!r.name||r.name!==e||(t=!0,a.delete(e),!1)};return i=i.filter(r),o=o.filter(r),t}(e):function(e){var t=!1,r=function(r){return r.middleware!==e||(t=!0,r.name&&a.delete(r.name),!1)};return i=i.filter(r),o=o.filter(r),t}(e)},removeByTag:function(e){var t=!1,r=function(r){var n=r.tags,i=r.name;return!n||!n.includes(e)||(i&&a.delete(i),t=!0,!1)};return i=i.filter(r),o=o.filter(r),t},concat:function(e){var r=u(t());return r.use(e),r},applyToStack:u,resolve:function(t,r){var n,i;try{for(var o=e.__values(c().reverse()),a=o.next();!a.done;a=o.next()){t=(0,a.value)(t,r)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t}};return s},r={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},n={high:3,normal:2,low:1},i=function(){function e(e){this.middlewareStack=t(),this.config=e}return e.prototype.send=function(e,t,r){var n="function"!=typeof t?t:void 0,i="function"==typeof t?t:r,o=e.resolveMiddleware(this.middlewareStack,this.config,n);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),o=function(){var t=Object.getPrototypeOf(this).constructor,r=Function.bind.apply(String,e.__spread([null],arguments)),n=new r;return Object.setPrototypeOf(n,t.prototype),n};o.prototype=Object.create(String.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(o,String),function(t){function r(){return null!==t&&t.apply(this,arguments)||this}e.__extends(r,t),r.prototype.deserializeJSON=function(){return JSON.parse(t.prototype.toString.call(this))},r.prototype.toJSON=function(){return t.prototype.toString.call(this)},r.fromObject=function(e){return e instanceof r?e:new r(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(o),exports.Client=i,exports.constructStack=t,exports.parse=function(t){var r=t.split(":");if(r.length<6||"arn"!==r[0])throw new Error("Malformed ARN");var n=e.__read(r);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}},exports.validate=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6};
